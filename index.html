<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>CONT1 | Controle Financeiro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007bff">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container" id="main-content">
        <header class="page-header">
            <h1>CONT1 | Controle</h1>
        </header>

        <!-- Bot√£o Enviar Receita -->
        <div class="share-receita-container">
            <button id="share-receita" aria-label="Enviar Receita" title="Enviar Receita">üì§ Enviar Receita</button>
        </div>

        <!-- RESUMO FINANCEIRO -->
        <div class="summary" role="region" aria-label="Resumo Financeiro">
            <div class="summary-card receita">
                <h3>Receitas</h3>
                <p id="total-revenue" class="positive">R$ 0,00</p>
                <button class="add-btn-card" id="add-revenue-btn" title="Adicionar Receita" aria-label="Adicionar Receita">+</button>
            </div>
            <div class="summary-card despesas">
                <h3>Despesas</h3>
                <p id="total-expenses" class="negative">R$ 0,00</p>
                <button class="add-btn-card negative" id="add-expense-btn" title="Adicionar Despesa" aria-label="Adicionar Despesa">+</button>
            </div>
            <div class="summary-card balance-card">
                <h3>Saldo</h3>
                <p id="balance" class="info">R$ 0,00</p>
            </div>
        </div>

        <div class="spacer"></div>

        <!-- LEGENDA E GR√ÅFICO -->
        <div class="categoria-legenda-container" id="categoria-legenda-container"></div>
        <div class="pie-container">
            <canvas id="pieChart" width="200" height="200" aria-label="Gr√°fico de Receitas e Despesas"></canvas>
            <div class="chart-label">Receitas e Despesas</div>
        </div>

        <!-- TRANSA√á√ïES -->
        <div class="transactions-section" id="transactions-section" aria-labelledby="transacoes-titulo">
            <button class="reset-btn" id="reset-btn" aria-label="Resetar todos os dados">Resetar</button>
            <h2 id="transacoes-titulo">Transa√ß√µes</h2>
            <table class="transactions-table" role="table" aria-label="Tabela de transa√ß√µes do m√™s">
                <thead>
                    <tr>
                        <th>Descri√ß√£o</th>
                        <th>Valor</th>
                        <th>Data</th>
                        <th>Origem/Categoria</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="transaction-list">
                    <!-- Transa√ß√µes din√¢micas -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- MODAIS -->
    <div class="modal" id="reset-modal" role="dialog" aria-modal="true" aria-labelledby="reset-header" aria-describedby="reset-body" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header" id="reset-header">Resetar Todos os Dados</div>
            <div class="modal-body" id="reset-body">Tem certeza que deseja apagar TODOS os dados? Esta a√ß√£o n√£o pode ser desfeita.</div>
            <div class="modal-footer">
                <button class="modal-btn cancel" id="reset-cancel">Cancelar</button>
                <button class="modal-btn confirm" id="reset-confirm">Apagar Tudo</button>
            </div>
        </div>
    </div>

    <div class="modal" id="delete-modal" role="dialog" aria-modal="true" aria-labelledby="delete-header" aria-describedby="delete-modal-body" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header" id="delete-header">Excluir Transa√ß√£o</div>
            <div class="modal-body" id="delete-modal-body"></div>
            <div class="modal-footer">
                <button class="modal-btn cancel" id="delete-cancel">Cancelar</button>
                <button class="modal-btn confirm" id="delete-confirm">Excluir</button>
            </div>
        </div>
    </div>

    <!-- PROMPT INSTALA√á√ÉO -->
    <div class="install-prompt" id="install-prompt" aria-hidden="true" role="alertdialog" aria-modal="true" aria-labelledby="install-header" aria-describedby="install-body">
        <div class="install-prompt-content">
            <div class="install-prompt-header" id="install-header">Instalar Aplicativo</div>
            <div class="install-prompt-body" id="install-body">Deseja instalar o CONT1 para acesso r√°pido?</div>
            <div class="install-prompt-buttons">
                <button class="install-btn secondary" id="install-cancel">Agora n√£o</button>
                <button class="install-btn primary" id="install-confirm">Instalar</button>
            </div>
        </div>
    </div>

    <!-- ALERTA SALDO NEGATIVO -->
    <div class="negative-alert" id="negative-alert" role="alert" aria-live="assertive" style="display:none">
        <span aria-hidden="true">‚ö†Ô∏è</span> Aten√ß√£o! Seu saldo est√° negativo!
    </div>

    <!-- FORMUL√ÅRIO RECEITA -->
    <div class="form-overlay" id="form-overlay-revenue" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="revenue-form-title">
        <div class="form-container">
            <div class="form-header">
                <div class="form-title" id="revenue-form-title">Nova Receita</div>
                <button class="close-form" id="close-form-btn-revenue" aria-label="Fechar formul√°rio de receita">√ó</button>
            </div>
            <form id="transaction-form-revenue" autocomplete="off">
                <div class="form-grid">
                    <div>
                        <label for="origin-revenue">Origem</label>
                        <select id="origin-revenue" required aria-required="true"></select>
                    </div>
                    <div>
                        <label for="amount-revenue">Valor</label>
                        <input id="amount-revenue" type="number" step="0.01" required aria-required="true">
                    </div>
                </div>
                <div class="check-add-line">
                    <button class="add-btn" id="save-btn-revenue" type="submit">Adicionar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- FORMUL√ÅRIO DESPESA -->
    <div class="form-overlay" id="form-overlay-expense" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="expense-form-title">
        <div class="form-container">
            <div class="form-header">
                <div class="form-title" id="expense-form-title">Nova Despesa</div>
                <button class="close-form" id="close-form-btn-expense" aria-label="Fechar formul√°rio de despesa">√ó</button>
            </div>
            <form id="transaction-form-expense" autocomplete="off">
                <div class="form-grid">
                    <div>
                        <label for="description-expense">Descri√ß√£o</label>
                        <input id="description-expense" maxlength="12" required aria-required="true" aria-describedby="desc-limit">
                        <div class="char-counter" id="desc-limit">
                            <span id="char-count-expense" aria-live="polite" aria-atomic="true">0</span>/12 caracteres permitidos
                        </div>
                    </div>
                    <div>
                        <label for="amount-expense">Valor</label>
                        <input id="amount-expense" type="number" step="0.01" required aria-required="true">
                    </div>
                    <div>
                        <label for="category-expense">Categoria</label>
                        <select id="category-expense" required aria-required="true"></select>
                    </div>
                </div>
                <div class="check-add-line">
                    <div class="check-group">
                        <input id="parcelado-expense" type="checkbox">
                        <label for="parcelado-expense">Parcelado?</label>
                        <div class="parcelas-field" id="parcelas-field-div-expense">
                            <input id="parcelas-expense" type="number" min="2" value="2" aria-label="Quantidade de parcelas">
                            <label for="parcelas-expense">x</label>
                        </div>
                    </div>
                    <button class="add-btn" id="save-btn-expense" type="submit">Adicionar</button>
                </div>
            </form>
        </div>
    </div>

<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
<script src="script/app.js" defer></script>
</body>
</html>
